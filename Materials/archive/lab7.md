**Лабораторная работа №7**

# Основы ООП на языке Python

## Цель работы

На практике ознакомиться с основами объектно-ориентированного программирования на языке Python.

## Вопросы для допуска к работе

0.  Каким образов на языке Python может быть определена функция с переменным числом аргументов? Каким образом может быть осуществлен доступ к аргументам в теле такой функции?

1.  Дайте определения понятий: класс, объект, атрибут, метод, конструктор класса. Приведите примеры из реальной жизни для каждого из них.

2.  Есть два выражения на языке Python, в которых `xs` — список, `x` — целое число:

    ```python
    # A
    xs.append(x)
    ```
        
    ```python
    # B
    xs += [x]
    ```
        
    Дают ли эти выражения одинаковый результат? Какой? Какое из выражений, скорее всего, будет вычисляться быстрее? Потребует меньше памяти? Почему?

4.  Каким образом можно определить функцию со статической переменной, используя синтаксическую конструкцию `class`? Поясните на примере функции, возвращающей число своих вызовов.

6.  Какая синтаксическая конструкция языка Python используется для обработки исключений?

8.  Каким образом можно оформить программу на языке Python, чтобы его можно было запускать из командной строки Bash без явного вызова интерпретатора? Как получить доступ к аргументам командной строки в программе на Python? Каким образом можно передать аргументы командной строки программе на языке Python, запуская её из той среды разработки, которую вы используете в настоящий момент?

## Задания

1.  **Классы и объекты: применение**

    Напишите классы, реализующие абстрактные структуры данных — стек и очередь. Не используйте готовых решений, напишите эти классы самостоятельно. По возможности в реализации используйте методы встроенных классов списков типа `append`, `pop`, и др., т.е. методы, изменяющие объект-контейнер «на месте», без создания новых экземпляров класса-контейнера.
    
    Используя эти классы, реализуйте функцию, интерпретирующую выражение, записанное в строке в обратной польской нотации. Реализуйте по меньшей мере сложение, вычитание, умножение, деление, возведение в степень и смену знака числа (унарный минус). Все числа рассматривайте как числа с плавающей запятой.
    
    Примеры применения функции (`_` — унарный минус, `^` — возведение в степень):
    
    ```nohighlight
    rpn("2 2 2 + *")   ⇒   8.0
    rpn("2 2 2 * +")   ⇒   6.0
    rpn("2 3 + 2 ^")   ⇒  32.0
    rpn("8 _ 2 / 3 ^") ⇒ -64.0
    ```
    
    **Рекомендации.** Для разбивки строки на слова (лексемы) подходящий метод встроенного класса «строка». В классах «стек» и «очередь» определите метод для проверки на пустоту. Использование этого метода упрощает использование объектов класса.
    
0.  **Классы и объекты: переопределение операторов**

    Определите класс `Iv` для представления [интервальных величин и выполнения операций над ними](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B0%D1%80%D0%B8%D1%84%D0%BC%D0%B5%D1%82%D0%B8%D0%BA%D0%B0). 
    
    Переопределите для этих классов операторы арифметических действий так, чтобы интерпретатор смог выполнить следующий код:
    
    ```python
    print(Iv(9.5, 10.5) + Iv(5.75, 6.25))
    print(Iv(9.5, 10.5) - Iv(5.75, 6.25))
    print(Iv(9.5, 10.5) * Iv(2.0))
    print(Iv(9.5, 10.5) / Iv(2.0))
    print(Iv(9.5, 10.5) / Iv(-1.0, 1.0))
    ```
    
    Вывод в консоль:
    
    ```nohighlight
    [15.25, 16.75]
    [3.25, 4.75]
    [19.0, 21.0]
    [4.75, 5.25]
    ... (сообщение об исключении — делении на ноль)
    ```
    
    Предусмотрите возбуждение соответствующего исключения согласно правилам выполнения деления интервальных величин.
    
    **Рекомендации.** для того, чтобы иметь возможность применять к объектам класса `Iv` арифметические операции, определите в классе методы с именами `__add__`, `__sub__`, `__mul__` и `__truediv__`. Для того, чтобы определить, какие аргументы должны принимать эти методы и какое значение возвращать, обратитесь к документации по языку на сайте *python.org*. Для того, чтобы функция `print` могла вывести в консоль значения интервала в указанном формате, аналогичным образом определите метод `__str__`. 

4.  **Обработка исключений, работа с файлами и аргументы командной строки**

    Напишите скрипт, который принимает в качестве аргумента командной строки путь к файлу, открывает первый файл для чтения и подсчитывает, какие буквы и сколько раз встречаются в этом файле. Результат должен быть выведен в стандартный поток вывода.
    
    Для подсчета букв используйте функцию, разработанную вами в ходе выполнения предыдущей лабораторной работы). Не копируйте функцию в исходный текст вашего скрипта, а оформите её как отдельный модуль и импортируйте его в свой скрипт.
    
    На случай, если указанных исходный файл не существует или не может быть прочитан, предусмотрите обработку соответствующего(их) исключения(ий). В этом случае диагностическое сообщение должно выводиться в стандартный поток ошибок, а работа интерпретатора Python не должна завершаться аварийно.
    
    Продемонстрируйте корректность работы, перенаправляя потоки вывода и ошибок вашего скрипта в файлы средствами вашего командного интерпретатора.
    
