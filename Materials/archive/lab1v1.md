**Лабораторная работа №1 (Вариант I)**

# Рекурсия, процедуры высшего порядка, обработка списков

## Цель работы

Приобретение навыков работы с основами программирования на языке Scheme: использование рекурсии, процедур высшего порядка, списков.

## Вопросы для допуска к работе

1.  Процедура (функция): определение понятия, способы определения в языке Scheme.
2.  Точечные пары и списки. Представление правильного списка с помощью точечных пар. Встроенные процедуры `cons`, `car`, `cdr`.
3.  Назначение процедур `append`, `apply`.
4.  Что такое свертка. Какие встроенные процедуры в языке Scheme обладают свойствами свертки?
5.  Особенности реализации `and` и `or` в языке Scheme.

## Задания

При выполнении заданий **не используйте** присваивание, циклы и обращение к элементам последовательности по индексу. Избегайте возврата логических значений из условных конструкций. Продемонстрируйте работоспособность процедур на примерах.

1.  Реализуйте процедуру `(count x xs)`, подсчитывающую, сколько раз встречается элемент `x` в списке `xs`. Примеры применения процедуры:

    ```nohighlight
    (count 'a '(a b c a)) ⇒ 2
    (count 'b '(a c d))   ⇒ 0
    (count 'a '())        ⇒ 0
    ```

2.  Реализуйте процедуру `(replace pred? proc xs)`, которая "заменяет" в списке `xs` все элементы, удовлетворяющие предикату `pred?`, на результат применения к каждому из этих элементов процедуры одного аргумента `proc`.  Примеры применения процедуры:

    ```nohighlight
    (replace zero? (lambda (x) (+ x 1)) '(0 1 2 3 0))   ⇒ (1 1 2 3 1)
    (replace odd?  (lambda (x) (* 2 x)) '(1 2 3 4 5 6)) ⇒ (2 2 6 4 10 6)
    (replace even? (lambda (x) (/ x 2)) '(1 3 5 7))     ⇒ (1 3 5 7)
    (replace (lambda (x) (> 0 x)) exp '())              ⇒ ()
    ```

3.  Реализуйте процедуру `(replicate x n)`, которая возвращает список из `n` элементов `x`. Примеры применения процедуры:

    ```nohighlight
    (replicate 'a 5) ⇒ (a a a a a)
    (replicate '(a b) 3) ⇒ ((a b) (a b) (a b))
    (replicate 'a 0) ⇒ ()
    ```

4.  Реализуйте процедуру `(cycle xs n)`, которая возвращает список, полученный путем конкатенации `n` списков `xs`. Примеры применения процедуры:

    ```nohighlight
    (cycle '(0 1) 3)   ⇒ (0 1 0 1 0 1)
    (cycle '(a b c) 3) ⇒ (a b c a b c a b c)
    (cycle '() 0)      ⇒ ()
    ```

5.  Реализуйте процедуры `and-fold` и `or-fold`, эквивалентные встроенным макросам `and` и `or`. Примеры применения процедур:

    ```nohighlight
    (and-fold #f #f #f) ⇒ #f
    (and-fold #t #f #f) ⇒ #f
    (and-fold #t #t #f) ⇒ #f
    (and-fold #t #t #t) ⇒ #t
    (and-fold) ⇒ #t

    (or-fold #f #f #f) ⇒ #f
    (or-fold #t #f #f) ⇒ #t
    (or-fold #t #t #f) ⇒ #t
    (or-fold #t #t #t) ⇒ #t
    ```

6.  Реализуйте композицию функций (процедур) одного аргумента, для чего напишите процедуру `o`, принимающую произвольное число процедур одного аргумента и возвращающую процедуру, являющуюся композицией этих процедур.  Примеры применения процедуры:

    ```nohighlight
    (define (f x) (* x 2))
    (define (g x) (* x 3))
    (define (h x) (- x))
    
    ((o f g h) 1) ⇒ -6
    ((o f g) 1)   ⇒ 6
    ((o h) 1)     ⇒ -1
    ((o) 1)       ⇒ 1
    ```

7.  Реализуйте процедуру `(find-number a b c)`, возвращающее наименьшее число в интервале `[a, b]`, которое без остатка делится на `c`, или `#f`, если такое число не может быть найдено. Примеры применения процедуры:

    ```nohighlight
    (find-number 0 5 2) ⇒ 0
    (find-number 7 9 3) ⇒ 9
    (find-number 3 7 9) ⇒ #f
    ```


